# 승인 프로세스 가이드

## 🔐 승인이 필요한 작업들

### 높은 위험도 (반드시 승인)

- 시스템 전체 동기화 (`/sync`)
- 다수 파일 변경 (5개 이상)
- 새로운 명령어 추가
- 핵심 시스템 파일 수정

### 중간 위험도 (조건부 승인)

- TypeScript 설정 변경
- 의존성 추가/제거
- 문서 구조 변경

### 낮은 위험도 (자동 실행)

- 단순 오타 수정
- 로그 정리
- 임시 파일 삭제

## 🔄 승인 워크플로우

### 1. 자동 분석 단계

```
npm run sync
↓
영향도 자동 분석
↓
위험도 평가
↓
승인 요청 화면 표시
```

### 2. 사용자 승인 단계

```
분석 결과 검토
↓
승인/거부/상세검토 선택
↓
npm run /confirm-sync (승인)
npm run /deny-sync (거부)
npm run /review-sync (상세검토)
```

### 3. 실행 및 모니터링

```
승인된 작업 실행
↓
실시간 진행상황 표시
↓
완료/실패 결과 보고
↓
필요시 롤백 제안
```

## 📋 승인 결정 가이드

### ✅ 승인하기 좋은 경우

- 영향도 분석이 명확함
- 롤백 계획이 있음
- 변경 범위가 예측 가능함
- 테스트 결과가 양호함

### ❌ 승인하지 말아야 할 경우

- 영향도를 파악할 수 없음
- 중요한 기능이 고장날 위험
- 롤백이 어려워 보임
- 시스템이 불안정한 상태

### 🔍 상세 검토가 필요한 경우

- 새로운 유형의 변경사항
- 이전에 문제가 생겼던 영역
- 외부 의존성 관련 변경
- 성능에 영향을 줄 수 있는 변경

## 🆘 비상 상황 대응

### 승인 없이 긴급 실행이 필요한 경우

1. `EMERGENCY_OVERRIDE=true npm run sync`
2. 실행 후 반드시 `npm run recovery:status` 확인
3. 문제 발생시 즉시 `npm run recovery:rollback`

### 승인 시스템이 고장난 경우

1. `npm run advanced:bypass-approval`
2. 수동으로 백업 생성 후 작업
3. 승인 시스템 복구 후 정상화

## 📊 승인 로그

모든 승인 결정은 자동으로 기록됩니다:

- `reports/approval-log.json` - 상세 로그
- `.claude/approval-history.md` - 요약 기록
