{"numTotalTestSuites":7,"numPassedTestSuites":7,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":14,"numPassedTests":6,"numFailedTests":8,"numPendingTests":0,"numTodoTests":0,"startTime":1758686085860,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","APM Integration","APM Integration Manager"],"fullName":" APM Integration APM Integration Manager should initialize with custom provider","status":"passed","title":"should initialize with custom provider","duration":5,"failureMessages":[]},{"ancestorTitles":["","APM Integration","APM Integration Manager"],"fullName":" APM Integration APM Integration Manager should handle disabled APM","status":"passed","title":"should handle disabled APM","duration":1,"failureMessages":[]},{"ancestorTitles":["","APM Integration","APM Integration Manager"],"fullName":" APM Integration APM Integration Manager should forward metrics from performance monitor","status":"failed","title":"should forward metrics from performance monitor","duration":2019,"failureMessages":["Condition not met within 1000ms","Condition not met within 1000ms"],"location":{"line":135,"column":13}},{"ancestorTitles":["","APM Integration","APM Integration Manager"],"fullName":" APM Integration APM Integration Manager should record errors across providers","status":"passed","title":"should record errors across providers","duration":1,"failureMessages":[]},{"ancestorTitles":["","APM Integration","APM Integration Manager"],"fullName":" APM Integration APM Integration Manager should add custom attributes","status":"passed","title":"should add custom attributes","duration":1,"failureMessages":[]},{"ancestorTitles":["","APM Integration","Datadog Provider"],"fullName":" APM Integration Datadog Provider should initialize with mocked dd-trace","status":"failed","title":"should initialize with mocked dd-trace","duration":215,"failureMessages":["expected \"spy\" to be called with arguments: [ ObjectContaining{…} ]\n\nReceived: \n\n\n\nNumber of calls: 0\n","expected \"spy\" to be called with arguments: [ ObjectContaining{…} ]\n\nReceived: \n\n\n\nNumber of calls: 0\n"],"location":{"line":205,"column":27}},{"ancestorTitles":["","APM Integration","Datadog Provider"],"fullName":" APM Integration Datadog Provider should handle initialization failure gracefully","status":"failed","title":"should handle initialization failure gracefully","duration":4,"failureMessages":["promise resolved \"undefined\" instead of rejecting","promise resolved \"undefined\" instead of rejecting"],"location":{"line":229,"column":7}},{"ancestorTitles":["","APM Integration","New Relic Provider"],"fullName":" APM Integration New Relic Provider should set environment variables during initialization","status":"passed","title":"should set environment variables during initialization","duration":526,"failureMessages":[]},{"ancestorTitles":["","APM Integration","New Relic Provider"],"fullName":" APM Integration New Relic Provider should handle module not available","status":"failed","title":"should handle module not available","duration":3,"failureMessages":["promise resolved \"undefined\" instead of rejecting","promise resolved \"undefined\" instead of rejecting"],"location":{"line":273,"column":7}},{"ancestorTitles":["","APM Integration","Prometheus Provider"],"fullName":" APM Integration Prometheus Provider should initialize with prom-client","status":"failed","title":"should initialize with prom-client","duration":39,"failureMessages":["expected \"spy\" to be called with arguments: [ { service: 'test-service', …(2) } ]\n\nReceived: \n\n\n\nNumber of calls: 0\n","expected \"spy\" to be called with arguments: [ { service: 'test-service', …(2) } ]\n\nReceived: \n\n\n\nNumber of calls: 0\n"],"location":{"line":311,"column":45}},{"ancestorTitles":["","APM Integration","Prometheus Provider"],"fullName":" APM Integration Prometheus Provider should create and manage Prometheus metrics","status":"failed","title":"should create and manage Prometheus metrics","duration":5,"failureMessages":["expected \"spy\" to be called with arguments: [ { …(3) } ]\n\nReceived: \n\n\n\nNumber of calls: 0\n","expected \"spy\" to be called with arguments: [ { …(3) } ]\n\nReceived: \n\n\n\nNumber of calls: 0\n"],"location":{"line":359,"column":25}},{"ancestorTitles":["","APM Integration","Prometheus Provider"],"fullName":" APM Integration Prometheus Provider should export metrics for scraping","status":"failed","title":"should export metrics for scraping","duration":16,"failureMessages":["expected Promise{…} to be 'prometheus_metric{label=\"value\"} 42\\n' // Object.is equality","expected Promise{…} to be 'prometheus_metric{label=\"value\"} 42\\n' // Object.is equality"],"location":{"line":393,"column":23}},{"ancestorTitles":["","APM Integration","End-to-End APM Flow"],"fullName":" APM Integration End-to-End APM Flow should track complete agent execution through APM","status":"passed","title":"should track complete agent execution through APM","duration":4,"failureMessages":[]},{"ancestorTitles":["","APM Integration","End-to-End APM Flow"],"fullName":" APM Integration End-to-End APM Flow should handle errors in APM providers gracefully","status":"failed","title":"should handle errors in APM providers gracefully","duration":23,"failureMessages":["promise resolved \"undefined\" instead of rejecting","promise resolved \"undefined\" instead of rejecting"],"location":{"line":466,"column":47}}],"startTime":1758686086154,"endTime":1758686089018,"status":"failed","message":"","name":"/Users/kyle/synthetic-text-agents-v2/tests/integration/apm-integration.test.ts"}]}